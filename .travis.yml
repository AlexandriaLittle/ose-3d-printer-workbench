language: python
python:
  - '2.7'
services:
    - docker
install:
    - docker build . -t ose3dprinter-test-i
    - docker run --name ose3dprinter-test --detach ose3dprinter-test-i
script:
    - docker exec -it ose3dprinter-test pytest --cov ose3dprinter_workbench/ test/
after_success:
    - docker exec -e TRAVIS="$TRAVIS" -e TRAVIS_JOB_ID="$TRAVIS_JOB_ID" -e TRAVIS_BRANCH="$TRAVIS_BRANCH" -e TRAVIS_PULL_REQUEST="$TRAVIS_PULL_REQUEST" ose3dprinter-test coveralls
